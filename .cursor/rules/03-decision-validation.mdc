---
description: "Require careful progression with validation checks and user confirmation before decisions"
alwaysApply: true
---

# Decision Validation & User Confirmation

## Check Before Acting

- Verify that each step follows logically from the previous one
- Ensure all work aligns with DESIGN.md principles and ROADMAP.md goals
- Validate that proposed changes solve the actual problem
- Cross-check decisions against existing design documentation

## User Confirmation Requirements

- Seek explicit user confirmation BEFORE making significant decisions
- Significant decisions include:
  - Answering any "Outstanding Design Questions" from DESIGN.md
  - Changing any formulas, numbers, or calculations in DESIGN.md
  - Discovering DESIGN.md contains unworkable/broken design elements
  - Changing baseline numbers or validation targets from design specs
  - Substituting alternative mechanics when specified mechanics don't work
  - Adding design concepts not present in DESIGN.md (e.g., new systems, boss types, mechanics)
  - Choosing between multiple valid implementation approaches
  - Making architectural or structural changes
  - Deviating from ROADMAP.md or CHECKLIST.md plans
  - Introducing new systems, patterns, or dependencies

## Present Before Deciding

When user input is needed:
- Clearly articulate the decision point and why it matters
- Present options with pros/cons for each
- Explain implications and trade-offs
- Provide a recommendation with reasoning
- Wait for explicit approval before proceeding

## Validation Methodology

- Ask yourself: "Does this make sense in the larger context?"
- Check for consistency with existing decisions
- Verify alignment with project principles and vision
- Consider edge cases and potential problems
- Document the validation process in the task log

## Decision Documentation

- Record ALL decisions made (both user-approved and autonomous)
- Include the reasoning behind each decision
- Document alternatives considered and why they were rejected
- Note any assumptions or uncertainties
- Link decisions to their outcomes for future reference

## Prevent Assumptions

- Do not assume user intent without confirmation
- Do not make decisions based on "typical" patterns if context is unclear
- When in doubt, ask rather than assume
- Challenge your own assumptions before proceeding

## Design Document Change Protocol

When implementation reveals problems in DESIGN.md:

**STOP Immediately When:**
- Formulas or numbers don't work mathematically
- Design assumptions fail in practice
- Critical design details are missing or contradictory
- Specifications produce unworkable results

**Present to User:**
1. The Problem: What's broken and why
2. The Evidence: Math/logic showing the issue
3. The Options: 2-3 solutions with pros/cons
4. The Recommendation: Suggested solution with rationale
5. The Impact: What docs need updating, downstream effects

**After Approval:**
1. Update DESIGN.md FIRST (before implementation)
2. Document decision in task log with full rationale
3. Implement the approved solution
4. Validate implementation matches updated docs

**Never:**
- Continue implementing with known design bugs
- Change design without updating DESIGN.md
- Assume "obvious" fixes don't need approval
- Leave design docs out of sync with implementation
- Defer doc synchronization to "next session"

## Document Synchronization (Same Session Rule)

When design decisions are made:
1. Update DESIGN.md and related spec files IMMEDIATELY (same session)
2. Check for conflicts across all related documents before marking complete
3. Mark critical mechanics with **CRITICAL** or **IMPORTANT** markers
4. Explain foundational concepts in multiple locations (agents miss single mentions)
5. Implementation can be deferred; documentation updates cannot
