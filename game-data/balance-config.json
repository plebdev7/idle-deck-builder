{
  "_design_spec": "../docs/design-specs/baseline-numbers.md",
  "version": "1.0.0",
  "last_updated": "2025-11-08",
  "description": "Central configuration for all game balance values. These values are used by both the simulator and web game. This is the AUTHORITATIVE SOURCE for all conversion rates, costs, and timing values.",
  
  "stat_point_system": {
    "description": "Conversion rates for stat point budgets",
    "conversion_rates": {
      "ATK": {
        "value": 1.0,
        "description": "1 stat point = 1 ATK"
      },
      "DEF": {
        "value": 1.0,
        "description": "1 stat point = 1 DEF"
      },
      "essence_flat": {
        "value": 0.1,
        "description": "1 stat point = 10 flat Essence"
      },
      "essence_per_sec": {
        "value": 10.0,
        "description": "1 stat point = 0.1 Essence/sec"
      },
      "heal_flat": {
        "value": 2.0,
        "description": "1 stat point = 0.5 HP heal (instant)"
      },
      "heal_regen": {
        "value": 10.0,
        "description": "1 stat point = 0.1 HP/sec regen (until next enemy)"
      }
    },
    "rarity_budgets": {
      "Common": {
        "min": 20,
        "max": 30,
        "description": "Foundation cards with flat values"
      },
      "Rare": {
        "min": 30,
        "max": 50,
        "description": "Enhanced cards with simple conditionals"
      },
      "Epic": {
        "min": 50,
        "max": 90,
        "description": "Build-around cards with multi-effects"
      },
      "Legendary": {
        "min": 90,
        "max": 180,
        "description": "Deck-defining cards with 3-4 effects"
      }
    }
  },

  "deck_limits": {
    "Arcane_Student": {
      "total_deck_size": 12,
      "min_deck_size": 8,
      "per_tier_limits": {
        "Arcane": 12
      },
      "max_copies_per_card": 3,
      "description": "Starter class with tight deck limit (forces choices at Pack 1)"
    }
  },

  "rarity_drop_rates": {
    "Arcane_Pack": {
      "Common": 0.70,
      "Rare": 0.20,
      "Epic": 0.08,
      "Legendary": 0.02,
      "guaranteed_minimum": "Rare",
      "description": "Foundation tier packs, lower rarity rates"
    },
    "Elemental_Pack": {
      "Common": 0.50,
      "Rare": 0.30,
      "Epic": 0.15,
      "Legendary": 0.05,
      "guaranteed_minimum": "Rare",
      "description": "Specialized tier packs, better rarity rates"
    },
    "Premium_Pack": {
      "Common": 0.20,
      "Rare": 0.30,
      "Epic": 0.35,
      "Legendary": 0.15,
      "guaranteed_minimum": "Epic",
      "description": "Special packs with best rarity rates"
    }
  },

  "leveling_system": {
    "xp_per_duplicate": {
      "Common": 1,
      "Rare": 2,
      "Epic": 5,
      "Legendary": 10
    },
    "xp_to_next_level_formula": "(level - 1) * rarity_cost_multiplier",
    "rarity_cost_multipliers": {
      "Common": 1.0,
      "Rare": 1.5,
      "Epic": 3.0,
      "Legendary": 6.0
    },
    "stat_scaling_per_level": {
      "Common": 0.20,
      "Rare": 0.25,
      "Epic": 0.30,
      "Legendary": 0.35
    },
    "level_cap": null,
    "description": "No level caps, infinite leveling with exponential costs"
  },

  "pack_costs": {
    "formula": "40000 * (2.5 ** (n - 1))",
    "Arcane_Pack": {
      "1": 40000,
      "2": 100000,
      "3": 250000,
      "4": 625000,
      "5": 1562500
    },
    "Elemental_Pack": {
      "1": 50000,
      "2": 125000,
      "3": 312500,
      "4": 781250,
      "5": 1953125,
      "note": "Slightly more expensive than Arcane, better rarity rates"
    }
  },

  "combat_timing": {
    "card_draw_interval": 1.0,
    "combat_tick_interval": 1.0,
    "reshuffle_cooldown": 1.0,
    "description": "All timing in seconds"
  },

  "player_stats": {
    "starting_hp": 100,
    "hp_upgrade_costs": [50, 75, 100, 125, 150],
    "hp_upgrade_amounts": [10, 10, 10, 10, 10],
    "description": "HP upgrades via shards, no auto-regen"
  },

  "enemy_scaling": {
    "description": "Enemy stats scale dynamically per combat tick to maintain threat throughout fights",
    
    "hp_formulas": {
      "act_1": {
        "range": [1, 50],
        "formula": "20 + (n - 1) * 120",
        "description": "Tutorial tier, linear scaling"
      },
      "act_2": {
        "range": [51, 100],
        "formula": "6000 + (n - 51) * 130",
        "description": "Challenge tier, step up from Act 1"
      },
      "act_3": {
        "range": [101, 150],
        "formula": "12500 + (n - 101) * 140",
        "description": "Master tier, step up from Act 2"
      },
      "act_4": {
        "range": [151, 999],
        "formula": "38880 + (n - 151) * 200",
        "description": "Future content, balanced with elemental tiers"
      }
    },

    "boss_multipliers": {
      "hp": {
        "50": 1.3,
        "100": 1.5,
        "150": 2.0,
        "description": "Boss HP multipliers at milestone enemies"
      },
      "per_tick_rates": {
        "multiplier": 2.0,
        "description": "Bosses scale 2x faster per tick than regular enemies"
      }
    },

    "per_tick_scaling": {
      "description": "Enemy ATK/DEF grow each combat tick to counter player deck cycling",
      
      "act_1": {
        "range": [1, 50],
        "atk_base": 1.0,
        "atk_growth_per_enemy": 0.05,
        "def_base": 0.5,
        "def_growth_per_enemy": 0.025,
        "formula_atk": "1.0 + (n - 1) * 0.05",
        "formula_def": "0.5 + (n - 1) * 0.025",
        "description": "Starting values = first tick values (no offset)"
      },
      
      "act_2": {
        "range": [51, 100],
        "atk_base": 3.5,
        "atk_growth_per_enemy": 0.08,
        "def_base": 1.75,
        "def_growth_per_enemy": 0.04,
        "formula_atk": "3.5 + (n - 51) * 0.08",
        "formula_def": "1.75 + (n - 51) * 0.04",
        "description": "Faster per-tick scaling to match improved player decks"
      },
      
      "act_3": {
        "range": [101, 150],
        "atk_base": 7.5,
        "atk_growth_per_enemy": 0.12,
        "def_base": 3.75,
        "def_growth_per_enemy": 0.06,
        "formula_atk": "7.5 + (n - 101) * 0.12",
        "formula_def": "3.75 + (n - 101) * 0.06",
        "description": "Aggressive scaling, requires optimized decks"
      }
    },

    "design_rationale": {
      "per_tick_system": "Enemies gain ATK/DEF each combat tick to counter player's exponential stat growth from deck cycling",
      "no_default_invulnerability": "Prevents defense from trivializing all fights; requires build investment for defensive strategies",
      "graduated_scaling": "Per-tick rates grow with enemy number, creating smooth difficulty curve",
      "boss_scaling": "Bosses scale 2x faster per tick, making long fights extremely dangerous"
    },

    "balance_targets": {
      "enemy_1": {
        "atk_per_tick": 1.0,
        "def_per_tick": 0.5,
        "note": "Slower than player deck cycling (~6.9 ATK/tick, ~6.2 DEF/tick with starter)"
      },
      "enemy_50_regular": {
        "atk_per_tick": 3.45,
        "def_per_tick": 1.73,
        "note": "Player outpaces, winnable with starter deck"
      },
      "enemy_50_boss": {
        "atk_per_tick": 6.9,
        "def_per_tick": 3.46,
        "note": "Matches player DEF growth, very dangerous"
      },
      "enemy_100_boss": {
        "atk_per_tick": 14.84,
        "def_per_tick": 7.42,
        "note": "Faster than player, requires Pack 1"
      },
      "enemy_150_boss": {
        "atk_per_tick": 26.76,
        "def_per_tick": 13.38,
        "note": "Much faster than player, requires Packs 1-3 and defensive investment"
      }
    }
  }
}

